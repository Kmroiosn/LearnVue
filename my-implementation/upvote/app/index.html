<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Bulma, 现代 CSS 框架，类似于 Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.3/css/bulma.css">
    <!-- FontAwesome, 将从里使用各种图标 -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.6/css/all.css">
    
    <link rel="stylesheet" href="../public/styles.css">

</head>

<body>
    <!-- 应用核心：#app：有 #app id 的元素将被 Vue 加载并且挂载到 Vue 模版上 -->
    <!-- 换句话说， Vue应用就挂载在这个特定元素上 -->
    <div id="app">
        <h2 class="title has-text-centered dividing-header">UpVote!</h2>

        <div class="section">
            <!-- 
                article 标签是一个投票信息的模板
                v-for 指令：通过v-for指令对数据中的数组进行循环获取，并填充到模板中
                使用方式：v-for="item in items"
                将 items 数组中的每一个数据赋值给 item，以便在此标签内使用
                你也可以：v-for="(item, index) in items" 加上 :key="index" 来获取索引 
            -->
            <!-- 一些例子： -->
            <!-- 
                <article class="media" v-for="submission in submissions"> 
                <article class="media" v-for="(submission, index) in submissions" :key="index"> 
                <article class="media" v-for="submission in submissions" v-bind:key="submission.id"> 
            -->
            <article class="media" v-for="(submission, index) in submissions" :key="index">    
                <figure class="media-left">
                    <!-- 数据绑定：数据的来源在应用变量的 data() 方法中 -->
                    <!-- 数据绑定：使用 v-bind 对 img 的 src 属性内容进行绑定 -->
                    <img class="image is-64x64" v-bind:src="submission.submissionImage">
                </figure>
                
                <div class="media-content">
                    <div class="content">
                        <p>
                            <strong>
                                <!-- 数据绑定：使用 v-bind 对 a 的 href 属性内容进行绑定 -->
                                <a v-bind:href="submission.url" class="has-text-info">
                                    <!-- 数据绑定：文本内容使用 Mustache 语法对应用变量的数据进行绑定 -->
                                    {{ submission.title }}
                                </a>
                                <span class="tag is-small">#{{ submission.id }}</span>
                            </strong>
                            <br>
                            <!-- 数据绑定： -->
                            {{ submission.description }}
                            <br>
                            <small class="is-size-7">
                                Submitted by:
                                <!-- 数据绑定： -->
                                <img v-bind:src="submission.avatar" class="image is-24x24">
                            </small>
                        </p>
                    </div>
                </div>

                <div class="media-right">
                    <span class="icon is-small">
                        <i class="fa fa-chevron-up"></i>
                        <!-- 数据绑定： -->
                        <strong class="has-text-info">{{ submission.votes }}</strong>
                    </span>
                </div>
            </article>

        </div>


    </div>

    <!-- 使用 CDN 加载最新版本的 Vue -->
    <script src="http://unpkg.com/vue@next"></script>

    <script src="./seed.js"></script>
    <script src="./main.js"></script>
</body>

</html>